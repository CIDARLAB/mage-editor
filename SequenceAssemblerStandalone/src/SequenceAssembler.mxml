<?xml version="1.0" encoding="utf-8"?>
<mx:Application creationComplete="onCreationComplete(event)" width="100%" height="100%" layout="absolute" xmlns:mx="http://www.adobe.com/2006/mxml" backgroundGradientColors="[0xFFFFFF, 0xFFFFFF]" xmlns:ui="org.jbei.registry.view.ui.*">
    <mx:Script>
        <![CDATA[
            import org.jbei.lib.utils.Logger;
            import org.jbei.lib.utils.LoggerEvent;
            import org.jbei.registry.ApplicationFacade;
            
            // Event Handlers
            private function onCreationComplete(event:Event):void
            {
                Logger.getInstance().addEventListener(LoggerEvent.LOG, onLogMessage);
                
                ApplicationFacade.getInstance().initialize(mainPanel);
            }
            
            private function onLogMessage(event:LoggerEvent):void
            {
                loggerTextArea.text += event.message + "\n";
            }
        ]]>
    </mx:Script>
    
    <mx:VDividedBox width="100%" height="100%" borderThickness="0" dividerThickness="0.5" dividerAffordance="3" verticalGap="3" paddingBottom="0" paddingTop="0" paddingLeft="0" paddingRight="0">
        <ui:MainPanel id="mainPanel" width="100%" height="100%" />
        
        <mx:TextArea id="loggerTextArea" height="0" width="100%"/>
    </mx:VDividedBox>
</mx:Application>
