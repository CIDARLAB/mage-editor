<?xml version="1.0" encoding="utf-8"?>
<AbstractDialogForm 
	width="100%" 
	height="100%" 
	minWidth="300"
	minHeight="400"
	xmlns="org.jbei.lib.ui.dialogs.*" 
	xmlns:mx="http://www.adobe.com/2006/mxml"
	creationComplete="onCreationComplete(event)">
	
	<mx:Script>
		<![CDATA[
			import org.jbei.registry.ApplicationFacade;
			import org.jbei.registry.models.mageProperties;
			
			private var changed:Boolean = false;
			
			[Bindable]
			private var _mp:mageProperties;
			
			
			// Private Methods
			private function onCreationComplete(event:Event):void
			{
				_mp = ApplicationFacade.getInstance().MageProperties;
				uploadTextArea.text = _mp.targetFile ;
			}
			
			private function onChange(event:Event):void
			{
				changed = true;
			}
			
			protected function uploadButton_clickHandler(event:MouseEvent):void
			{
				_mp.uploadTargetFile();
				uploadTextArea.text = _mp.targetFile;
			}
			
			protected function previewButton_clickHandler(event: MouseEvent):void
			{
				uploadTextArea.text = _mp.targetFile; 
			}
			
			protected function saveButton_clickHandler(event: MouseEvent):void
			{
				_mp.saveTargetFile(uploadTextArea.text);
			}
			
		]]>
	</mx:Script>
	
	<mx:TabNavigator 
		borderStyle="solid"
		width="100%"
		height="100%">
		
		<mx:VBox 
			label="Input Targets" 
            width="100%"
            height="100%">
            
			<mx:Form 
				id="mainForm" 
				paddingBottom="5" 
				paddingTop="5" 
				paddingLeft="5" 
				paddingRight="5">
				<mx:FormItem id="FI">
					<mx:HBox id="hbox" width="100%" horizontalAlign="center" textAlign="center"
							 verticalAlign="middle">
						<mx:Button id="uploadButton" label = "Upload" click="uploadButton_clickHandler(event)" height="100%" width="100"/>
						<mx:Button id="previewButton" label="Preview Text" height="100%" width="100" click="previewButton_clickHandler(event)"/>
						<mx:Button id="saveButton" width="100" height="100%" label="Save"
								   click="saveButton_clickHandler(event)" textAlign="center"/>
					</mx:HBox>
				</mx:FormItem>
					<mx:TextArea id="uploadTextArea" width="600" height="600" enabled="true" textAlign="left"/>
				
			</mx:Form>
        </mx:VBox>
	</mx:TabNavigator>
	
</AbstractDialogForm>
